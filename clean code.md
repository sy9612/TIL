## 1장 깨끗한 코드

깨끗한 코드란?

- 효율이 좋은 코드 

- 속도, CPU 자원을 낭비하지 않는 코드
- 한가지에 집중한 코드, 각 함수와 클래스와 모듈이 오염되지 않은 코드

- 오류처리, 메모리 누수, 경쟁 상태, 명명법 고려
- 명쾌한 추상화, 단순한 제어문
- 다른 사람이 고치기 쉬운 코드
- 단위 테스트 케이스와 인수 테스트 케이스 존재
- 중복이 없는 코드
- 클래스, 메서드, 함수 등을 최대한 줄인 코드 



## 2장 의미 있는 이름

1. 의도를 분명히 밝혀라

- 의도가 드러나는 이름 사용	

2. 그릇된 정보는 피하라

- 널리 쓰이는 의미가 있는 단어를 다른 의미로 사용하면 안 됨
- 여러 계정을 그룹으로 묶을 때 accountList (x) accountGroup, Accounts (o)
  - List는 특수한 의미, 실제 List가 아니면 사용하지 말기
- 유사한 개념은 유사한 표기법 사용

3. 의미있게 구분하라

- 연속적인 숫자나 불용어를 덧붙인 이름 쓰지 말기, 저자의 의도가 드러나지 않음
- 함수 인수 이름으로 source와 destination 사용 시 코드 읽기가 쉬워짐
  - ex) a1, a2, a3 / Product**Info**, Product**Data** / accountData, account
- 변수 이름에 variable 쓰지말기
- 표 이름에 table 쓰지말기
- 읽는 사람이 차이를 알도록 이름을 짓기

4. 발음하기 쉬운 이름을 사용하라

5. 검색하기 쉬운 이름을 사용하라

   - 긴 이름 >> 짧은 이름
   - 검색하기 쉬운 이름 >> 상수
   - 이름 길이 ∝ 범위크기

6. 인코딩을 피해라

   - 헝가리 표기법 X
     - 변수 이름에 타입을 인코딩
     - 변수, 함수, 클래스 이름이나 타입을 바꾸기가 어려워지고 읽기 어려워짐
   - 접두어 X

7. 기억력을 자랑하지 마라

   - 클래스 이름

     - 명사나 명사구가 적합

       ex) Customer, WikiPage, Account (o)

       ​		Manager, Data, Info (x)

   - 메서드 이름

     - 동사나 동사구가 적합

       ex) postPayment, deletePage, save (o)

     - 접근자, 변경자, 조건자는 get, set, is 붙이기

8. 기발한 이름은 피해라

9. 한 개념에 한 단어를 사용하라

   - 메서드 이름은 독자적이고 일관적

     ex) DeviceManager, ProtocolController (x , 통일하기)

10. 말장난을 하지마라

    - 기존에 add 메서드는 기존 값에 두 개를 더하거나 이어서 새로운 값을 만든다고 가정
    - 새로 작성하는 메서드에선 집합에 값 하나를 추가시 insert, append 가 적당

11. 의미있는 맥락을 추가하라

    - firstName, lastName, state (x)
    - addrFirstName, addrLastName, addrState (x)

12. 불필요한 맥락을 없애라

    - 의미가 분명한 경우에 한해서 짧은 이름 >> 긴이름

      



## 3장 함수

1. 작게 만들어라

   - **if문, while문 등에 들어가는 블록은 한 줄이어야 함**

2. 한 가지만 해라

   -  추상화 수준이 하나인 단계만 수행하기
   -  함수 내 모든 문장이 추상화 수준이 비슷해야함
   -  switch문 사용시 추상 팩토리에 숨겨서 사용

3. 서술적인 이름을 사용해라

   - 모듈 내에서 함수 이름은 같은 문구, 명사, 동사를 사용

4. 함수 인수

   - 이상적인 인수는 0항

   - 1개 ㄱㅊ, 2개 복잡, 3개 이상은 에바

   - 인수가 2-3개 필요하면 독자적인 클래스 변수로 선언해라

   - 출력 인수가 입력 인수보다 이해 어려움

   - 플래그 인수

     - 추함, 함수로 부울 값 넘기는 관례는 끔찍 -> 함수가 여러 개를 처리하게 되니까

   - 함수와 인수 쌍을 동사/명사 쌍을 이루면 좋음

     ex) witeField(name)

   - 함수 이름에 인수 키워드 추가

     ex) assertExpectedEqualsActual(expected, actual)

5. 부수효과를 일으키지마라

   예시로 checkPassword 라는 이름을 가진 함수가 그 안에선 세션을 초기화 하면 안 됨

   의도치 않게 중요한 정보가 날아갈 수 있음

   checkPasswordAndInitializeSession 이라는 이름이 훨씬 좋음(but 함수가 1가지만 한다는 규칙은 위반)

6. 출력 인수 피하기

   - 함수에서 상태를 변경해야 한다면 함수가 속한 객체 상태를 변경하는 방식을 선택해라

7. 명령과 조회를 분리하라

   - 함수는 수행 or 응답 둘 중 하나만 해야함

8. 오류 코드보다 예외를 사용하라

   - try catch 블록 별도 함수로 뽑아내는게 좋음
   - 오류 처리 함수는 오류 처리만 해야 함(1가지 함수는 1가지 작업만)
   - 오류 코드 대신 예외 사용하면 새 예외는 Exception 클랭스에서 파생, 재컴파일/재배치 없이도 새 예외 클래스 추가 가능

9. 모든 함수와 모든 블록에 입구와 출구가 하나만 존재해야 함

   - return 문이 하나여야 함

   - 루프 안에서 break, continue 사용하면 안 됨, **goto 절대 안 됨**

   - but 작은 함수에선 break continue return 여러 차례 사용해도 됨

     



## 4장 주석

### 좋은주석	

**가장 좋은 주석은 주석을 달지 않을 방법을 찾아낸 주석이다**

- 주석은 오래될수록 코드에서 멀어짐
- **주석말고 코드로 의도를 표현해라**

1. 법적인 코드 주석

   - 계약조건, 법적인 정보

2. 정보를 제공하는 주석

   - 가능하다면 함수 이름에 정보를 담는 편이 더 좋음

3. 의도를 설명하는 주석

4. 의미를 명로하게 밝히는 주석

   - 인수나 반환값이 표준 라이브러리나 변경하지 못하는 코드에 속하면 의미를 명료하게 밝히는 주석이 유용
   - 주석은 올바른지 검증하기 어렵기 때문에 주의!

5. 결과를 경고하는 주석

   - 다른 프로그래머에게 경고

     ex) 특정 테스트 케이스를 꺼야할 때 

   - 구체적인 설명은 @Ignore 속성에 문자열로 넣어줌

6. TODO 주석

   - 필요하지만 당장 구현하기 어려운 업무 기술
   - but 주기적으로 점검해서 없애도 괜찮은 TODO는 삭제하기

7. 중요성을 강조하는 주석

   - 자칫 대수지 않게 여겨질 주어질 무언가의 중요성 강조



### 나쁜주석

1. 특별한 이유없이 의무감으로 마지못해 단 주석
2. 이해가 안 되어 다른 모듈까지 뒤져야 하는 주석
3. 같은 이야기를 중복하는 주석
   - 같은 코드 내용을 그대로 중복
4. **함수나 변수로 표현할 수 있다면 주석을 달지마라**
5. **특정 위치를 표시하려는 주석**
   - 반드시 필요할 때만 드물게 사용하기, 배너를 남용시 무시하게 됨
6. **닫는 괄호에 다는 주석**
   - 닫는 괄호에 주석을 달지말고 함수를 줄여라
7. **저자를 표시하는 주석**
   - 소스 코드 관리 시스템에 저장하는 편이 좋음
8. **주석으로 처리된 코드**
   - 다른 사람들이 지우기 주저함, 그냥 코드를 삭제해라
9. HTML 주석
   - IDE 조차 읽기 어려움
10. 전역정보
    - 근처에 있는 코드에 대해서만 주석 기술, 시스템의 전반적인 정보를 기술하지 말기





## 5장 형식 맞추기

1. 적절한 행 길이 유지

   - 200줄 정도인 파일로도 커다란 시스템을 구축할 수 있음
   - 되도록 세로 길이 줄이기
   - 소스파일 이름은 간단하면서도 설명이 가능하게 짓기
   - 소스 파일 첫부분은 고차원 개념과 알고리즘을 설명, 아래로 내려갈수록 세세하게 묘사
   - 생각 사이는 빈 행을 넣어 분리해서 가독성⬆️
   - 서로 밀접한 개념은 세로로 가까이 두기
   - **서로 밀접한 개념은 한 파일에 속해야 마땅, protected 변수를 피해야하는 이유 중 하나**
   - 변수 : 사용하는 위치에 최대한 가까이 선언 / 지역 변수 : 각 함수 맨 처음에 선언 / 인스턴스. 변수 : 클래스 맨 처음에 선언
   - 호출하는 함수 먼저, 호출되는 함수 나중에 배치

   

2. 가로 형식 맞추기

   - 45자 정도 (20~60자 사이)가 적당, 저자는 120자 정도로 행 길이 제한
   - 할당 연사자는 앞뒤에 공백으로 강조
   - 연산자 우선순위 강조를 위해서 공백 사용
     - 승수 사이는 공백 X
     - 항 사이에는 공백 O
   - 들여쓰기
     - 클래스 정의처럼 파일 수준인 문장 : 들여쓰지 않음
     - 메서드 : 클래스보다 한 수준 들여씀
     - 메서드 코드 : 메서드 선언보다 한 수준 들여씀
     - 블록코드 : 블록을 포함하는 코드보다 한 수준 들여씀
   - 빈 while문이나 for문에서 세미콜론은 새 행에다 제대로 들여써주기

   





